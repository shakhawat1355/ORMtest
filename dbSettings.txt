CREATE TABLE Instructor (
    InstructorID INT PRIMARY KEY,
    Name VARCHAR(255),
    Email VARCHAR(255),
    PermanentAddressID INT,
    PresentAddressID INT
);

CREATE TABLE Address (
    AddressID INT PRIMARY KEY,
    Street VARCHAR(255),
    City VARCHAR(255),
    Country VARCHAR(255)
);

CREATE TABLE Phone (
    PhoneID INT PRIMARY KEY,
    Number VARCHAR(255),
    Extension VARCHAR(255),
    CountryCode VARCHAR(255),
    InstructorID INT,
    CONSTRAINT FK_Phone_Instructor FOREIGN KEY (InstructorID) REFERENCES Instructor (InstructorID)
);

CREATE TABLE Course (
    CourseID INT PRIMARY KEY,
    Title VARCHAR(255),
    InstructorID INT,
    Fees DECIMAL(18,2)
);

CREATE TABLE Topic (
    TopicID INT PRIMARY KEY,
    Title VARCHAR(255),
    Description TEXT,
    CourseID INT,
    CONSTRAINT FK_Topic_Course FOREIGN KEY (CourseID) REFERENCES Course (CourseID)
);

CREATE TABLE Session (
    SessionID INT PRIMARY KEY,
    DurationInHour INT,
    LearningObjective TEXT,
    TopicID INT,
    CONSTRAINT FK_Session_Topic FOREIGN KEY (TopicID) REFERENCES Topic (TopicID)
);

CREATE TABLE AdmissionTest (
    AdmissionTestID INT PRIMARY KEY,
    TestFees DECIMAL(18,2),
    StartDateTime DATETIME,
    EndDateTime DATETIME,
    CourseID INT,
    CONSTRAINT FK_AdmissionTest_Course FOREIGN KEY (CourseID) REFERENCES Course (CourseID)
);








SELECT 
    c.CourseID, c.Title, c.Fees,
    i.InstructorID, i.Name, i.Email,
    pa.Street AS PermanentStreet, pa.City AS PermanentCity, pa.Country AS PermanentCountry,
    pr.Street AS PresentStreet, pr.City AS PresentCity, pr.Country AS PresentCountry,
    p.Number, p.Extension, p.CountryCode,
    t.TopicID, t.Title AS TopicTitle, t.Description,
    s.SessionID, s.DurationInHour, s.LearningObjective,
    at.AdmissionTestID, at.TestFees, at.StartDateTime, at.EndDateTime
FROM Course c
INNER JOIN Instructor i ON c.InstructorID = i.InstructorID
INNER JOIN Address pa ON i.PermanentAddressID = pa.AddressID
INNER JOIN Address pr ON i.PresentAddressID = pr.AddressID
INNER JOIN Phone p ON i.InstructorID = p.InstructorID
INNER JOIN Topic t ON c.CourseID = t.CourseID
INNER JOIN Session s ON t.TopicID = s.TopicID
INNER JOIN AdmissionTest at ON c.CourseID = at.CourseID
WHERE c.Title = 'Asp.net C#';











DELETE Course, CourseSection, CourseSectionContent, CourseSectionTest, AdmissionTest, StudentCourseEnrollment
FROM Course
INNER JOIN CourseSection ON Course.CourseID = CourseSection.CourseID
INNER JOIN CourseSectionContent ON CourseSection.CourseSectionID = CourseSectionContent.CourseSectionID
INNER JOIN CourseSectionTest ON CourseSection.CourseSectionID = CourseSectionTest.CourseSectionID
INNER JOIN AdmissionTest ON Course.CourseID = AdmissionTest.CourseID
INNER JOIN StudentCourseEnrollment ON Course.CourseID = StudentCourseEnrollment.CourseID
WHERE Course.CourseName = 'ASP.NET C#';



